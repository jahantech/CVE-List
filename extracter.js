var https = require('https');
var fs = require('fs');
var AdmZip = require('adm-zip')
var unzip = require('unzip');

var file = fs.createWriteStream("nvdcve-2.0-Recent.xml.zip");

var request = https.get("https://static.nvd.nist.gov/feeds/xml/cve/nvdcve-2.0-Recent.xml.zip", function(response) {
  
    // reading archives 
    var zip = new AdmZip("nvdcve-2.0-Recent.xml.zip");
    var zipEntries = zip.getEntries(); // an array of ZipEntry records 
 
    zipEntries.forEach(function(zipEntry) {
        console.log(zipEntry.toString()); // outputs zip entries information 
    });
    // outputs the content of some_folder/my_file.txt 
    console.log(zip.readAsText("nvdcve-2.0-Recent.xml.zip/nvdcve-2.0-recent.xml")); 
    // extracts the specified file to the specified location 
    zip.extractEntryTo("nvdcve-2.0-Recent.xml.zip/nvdcve-2.0-recent.xml", "./", false, true);
    

});